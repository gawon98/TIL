![image-20210226091941996](6day.assets/image-20210226091941996.png)



# grep ì˜µì…˜

ë¬¸ìì—´ ëŒ€ì²´

fixed=false(default), pattern  ì‘ì„±ëœ ì‹ì„ ì •ê·œí‘œí˜„ì‹

fixed=true patternì— ì‘ì„±ëœ ê°’ì„ ë¬¸ìì—´ë¡œ ì·¨ê¸‰

```
words<-c("at","bat","cat","cheap","check","chesse","chick","hat")

> grep("che",words,value=TRUE)
[1] "cheap"  "check"  "chesse"
> grep("che",words) #ì¸ë±ìŠ¤ë¡œ ë‚˜ì˜¨ë‹¤
[1] 4 5 6

grep("at",words,value=TRUE)
```



# ì •ê·œí‘œí˜„

ëŒ€ê´„í˜¸ : ìœ„ì¹˜ ìƒê´€ ì•ˆì”€ 

```
#cë˜ëŠ” h
grep("[ch]",words,value=TRUE)


grep("[at]",words,value=TRUE)


#ch ë˜ëŠ” at
grep("ch|at",words,value=TRUE)
```



```
#check , chick
#ch + e ë˜ëŠ” i +ch
grep("ch(e|i)ck",words,value=TRUE)
```



## ë©”íƒ€ë¬¸ì

| ?    | ?ì•ì˜ ë¬¸ìê°€ 0ë²ˆ ë˜ëŠ” 1ë²ˆ ë‚˜íƒ€ë‚˜ëŠ” íŒ¨í„´( ìµœëŒ€ 1ë²ˆ ) |
| ---- | --------------------------------------------------- |
| *    | *ì•ì˜ ë¬¸ìê°€ 0ë²ˆ ì´ìƒ ë°˜ë³µë˜ëŠ” íŒ¨í„´ (ìµœì†Œ0ë²ˆ)       |
| +    | +ì•ì˜ ë¬¸ìê°€ 1ë²ˆ ì´ìƒ ë°˜ë³µë˜ëŠ” íŒ¨í„´ (ìµœì†Œ1ë²ˆ)       |

````
#cheese , chase ì°¾ê¸°

grep("ch(a*|e*)se",words, value=TRUE)
````



### `^ , $`

```

#cë¡œ ì‹œì‘í•˜ëŠ” ë§
grep("^c", words, value=TRUE)
grep("^a",words,value=TRUE)

#të¡œ ëë‚˜ëŠ” ë§
grep("t$",words, value=TRUE)

```



### `.`, ` .*`

```
.(ë§ˆì¹¨í‘œ) : ëª¨ë“  ë¬¸ì
.* : ëª¨ë“  ë¬¸ìê°€ 0ê°œ ì´ìƒ

#cë¡œ ì‹œì‘í•˜ê³  të¡œ ëë‚˜ëŠ” ëª¨ë“  ë¬¸ìì—´ì„ ê²€ìƒ‰
grep("^c.t$",words,value=TRUE)
```



ê¸°íƒ€ ë“±ë“±

#[[:alnum:]] : ì•ŒíŒŒë²³+ìˆ«ì
#[[:digit:]] : ìˆ«ì
#[[:punct:]] : ë¬¸ì¥ë¶€í˜¸, íŠ¹ìˆ˜ë¬¸ì
#[[:space:]] : ê³µë°±



```
words2<-c("12 Dec", "OK", "http://", "<TITLE>Time?</TITLE>","12345", "Hi there")


> grep("[[:alnum:]]", words2, value=TRUE)
[1] "12 Dec"               "OK"                  
[3] "http://"              "<TITLE>Time?</TITLE>"
[5] "12345"                "Hi there"            
> grep("||w", words2, value=TRUE)
[1] "12 Dec"               "OK"                  
[3] "http://"              "<TITLE>Time?</TITLE>"
[5] "12345"                "Hi there" 

> grep("[[:alpha:]]", words2, value=TRUE)
[1] "12 Dec"               "OK"                  
[3] "http://"              "<TITLE>Time?</TITLE>"
[5] "Hi there"      

> grep("[[:digit:]]", words2, value=TRUE)
[1] "12 Dec" "12345" 
> grep("||d", words2, value=TRUE)
[1] "12 Dec"               "OK"                  
[3] "http://"              "<TITLE>Time?</TITLE>"
[5] "12345"                "Hi there" 

> grep("[[:punct:]]", words2, value=TRUE)
[1] "http://"              "<TITLE>Time?</TITLE>"

grep("[[:space:]]", words2, value=TRUE)
grep("||s", words2, value=TRUE)
```



# ğŸ“†DATE

```
Sys.Date()
date()
Sys.time()

class(Sys.Date()) #Date

class("2021-02-26") #char
#ë¬¸ìì—´ -> ë‚ ì§œë³€í™˜
class(as.Date("2021-02-26")) #Date

as.Date("02/26/2021", format="%m/%d/%Y") #ê¸°ë³¸ í˜•ì‹ ì•„ë‹ë•Œ format ì§€ì •
d<-as.Date("2021-02-26")
format(d, format="%m/%d/%Y") #"02/26/2021"
class(format(d,format="%m/%d/%Y")) #char

today<-Sys.Date()
today  #"2021-02-26"
format(today,format="%Y/%m/%d %A") #ìš”ì¼ê¹Œì§€ ì¶œë ¥
weekdays(as.Date("2021-02-27")) #í† ìš”ì¼
```

 

## seq + as.Date

: ì—°ì†ëœ ë‚ ì§œ ìƒì„±ì— ì‚¬ìš© ê°€ëŠ¥



```
s<-as.Date("2021-02-26")
e<-as.Date("2021-04-1")
seq(from=s, to=e, by=1) #1ì¼ ê°„ê²©ìœ¼ë¡œ ë‹¤ ë‚˜ì˜´
seq(s,e,1) #ìœ„ì™€ ê°™ìŒ

seq(from=s, by=1, length.out=10) #by=1 1ì¼ ê°„ê²©, 10ê°œ
seq(from=s, by=7, length.out=9) #7ì¼ ê°„ê²© 9ê°œ
seq(from=s, by="week", length.out=10) #"week" or "7days" 
seq(from=s, by="2 months", length.out=10)

```

month, year , 2years ... 



```
> seq(from=as.Date("2021-01-30"), by="month", length.out=5)
[1] "2021-01-30" "2021-03-02" "2021-03-30" "2021-04-30"
[5] "2021-05-30"
#2ì›” 30ì¼ ì—†ì–´ì„œ ë³„ë„ ì²˜ë¦¬ í•„ìš”í•˜ë‹¤ 
```



```
> s<-as.Date("2021-02-26")
> qrt<-seq(from=s , by="3 months", length.out=4)
> qrt
[1] "2021-02-26" "2021-05-26" "2021-08-26" "2021-11-26"
> months(qrt)
[1] "2ì›”"  "5ì›”"  "8ì›”"  "11ì›”"
> quarters(qrt) #ë¶„ê¸° ì •ë³´
[1] "Q1" "Q2" "Q3" "Q4"
```



# ì…ë ¥ 

```
product<-data.frame()
product 
product<-edit(product) #ì—‘ì…€ì°½ ì²˜ëŸ¼ ë°ì´í„° í¸ì§‘ê¸° ì°½ ëœ¸


#product<-edit(product) #fix (product)ì™€ ê°™ì€ ë¬¸ì¥ì¥

> str(product)
'data.frame':	3 obs. of  3 variables:
 $ id   : chr  "A001" "A002" "A003"
 $ name : chr  "Mouse" "Keyboard" "USB"
 $ price: num  30000 90000 50000
```



# íŒŒì¼

```
write.csv(product, file="myproduct.csv") #íŒŒì¼ ìƒì„±
```



```
> p <- readClipboard() #ì—‘ì…€ì—ì„œ ë³µì‚¬ í›„ ì‘ì—…
> p
[1] "Mouse"    "Keyboard" "USB" 

â€‹```
> p <- readClipboard() #ì—‘ì…€ì—ì„œ ë³µì‚¬ í›„ ì‘ì—…
> p
[1] "id\tname\tprice"       "A001\tMouse\t30000"   
[3] "A002\tKeyboard\t90000" "A003\tUSB\t50000"   

> read.table(file="clipboard", sep="\t") 

    V1       V2    V3
1   id     name price
2 A001    Mouse 30000
3 A002 Keyboard 90000
4 A003      USB 50000
```

ì²«ë²ˆì§¸ ì¤„ ë°ì´í„°ê°€ ì•„ë‹Œë° ë°ì´í„°ë¡œ ì½ì„ë•Œ `header=TRUE` 

```
> read.table(file="clipboard", sep="\t", header=TRUE) 

    id     name price
1 A001    Mouse 30000
2 A002 Keyboard 90000
3 A003      USB 50000
```



## read (ì™¸ì¶œ..)



```
read.csv(
  file,          # íŒŒì¼ëª…
  header=FALSE,  # íŒŒì¼ì˜ ì²« í–‰ì„ í—¤ë”ë¡œ ì²˜ë¦¬í•  ê²ƒì¸ì§€ ì—¬ë¶€
  # ë°ì´í„°ì— ê²°ì¸¡ì¹˜ê°€ í¬í•¨ë˜ì–´ ìˆì„ ê²½ìš° Rì˜ NAì— ëŒ€ì‘ì‹œí‚¬ ê°’ì„ ì§€ì •í•œë‹¤.
  # ê¸°ë³¸ê°’ì€ "NA"ë¡œ, "NA"ë¡œ ì €ì¥ëœ ë¬¸ìì—´ë“¤ì€ Rì˜ NAë¡œ ì €ì¥ëœë‹¤.
  na.strings="NA",
  # ë¬¸ìì—´ì„ íŒ©í„°ë¡œ ì €ì¥í• ì§€ ë˜ëŠ” ë¬¸ìì—´ë¡œ ì €ì¥í• ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤. ë³„ë‹¤ë¥¸
  # ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ê¸°ë³¸ê°’ì€ ë³´í†µ TRUEë‹¤.
  )
```



```
> p<-read.csv("product.csv", stringsAsFactors = FALSE)
> str(p)
'data.frame':	3 obs. of  3 variables:
 $ id   : chr  "A001" "A002" "A003"
 $ name : chr  "Mouse" "Keyboard" "USB"
 $ price: int  30000 90000 50000
> p<-read.csv("product.csv", as.is =TRUE) #as.is =TRUEëŠ” stringsAsFactors = FALSEì™€ ê°™ìŒ

> p
    id     name price
1 A001    Mouse 30000
2 A002 Keyboard 90000
3 A003      USB 50000
```



# ì—‘ì…€ ë°ì´í„° ì½ê¸°



```
install.packages("openxlsx")
library(openxlsx)
read.xlsx("product.xlsx", sheet=1)

url<-"https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data"
iris.uci<-read.csv(url, header=FALSE)
iris.uci

download.file(url=url, destfile = "myIris.csv") #urlìœ¼ë¡œ ë‹¤ìš´ ë°›ì€ íŒŒì¼ì„ ì € ì´ë¦„ìœ¼ë¡œ ì„¤ì •


url<-"http://seanlahman.com/files/database/baseballdatabank-master_2016-03-02.zip"
local.copy<-"baseball.zip" #zipí˜•ì‹
download.file(url, local.copy)

bs<-read.csv(unzip(zipfile=local.copy, "baseballdatabank-master/core/Salaries.csv"))  #ì••ì¶• í•´ì œ ã„±ã„´ ? , í´ë” ê²½ë¡œ ë§Œë“¤ì–´ì„œ ì„¤ì • 
head(bs)

```





