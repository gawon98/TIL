# ë‹¤ì°¨ì› ë°°ì—´

ë°°ì—´ í–‰ë ¬ì˜ ì¼ë°˜í™”ëœ ë°ì´í„° í˜•ì‹, ì°¨ì›ì„ ì†ì„±ìœ¼ë¡œ ê°–ëŠ” ë²¡í„°

ë²¡í„°(1ì°¨ì›), í–‰ë ¬(2ì°¨ì›) ëª¨ë‘ ë°°ì—´ì´ë¼ í•  ìˆ˜ ìˆìŒ

dimí•¨ìˆ˜ë¡œ ë°°ì—´ ìƒì„±



3ì°¨ì› ë°°ì—´

```
a<-1:24
dim(a)<-c(3,4,2)
a

, , 1

     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12

, , 2

     [,1] [,2] [,3] [,4]
[1,]   13   16   19   22
[2,]   14   17   20   23
[3,]   15   18   21   24
```



`array`í•¨ìˆ˜ : ë‹¤ì°¨ì› ë°°ì—´ ìƒì„±

```
> ary<-array(1:24 , c(3,4,2))
> ary[1,3,2]
[1] 19

> ary
, , 1

     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12

, , 2

     [,1] [,2] [,3] [,4]
[1,]   13   16   19   22
[2,]   14   17   20   23
[3,]   15   18   21   24

> ary[1,,]
     [,1] [,2]
[1,]    1   13
[2,]    4   16
[3,]    7   19
[4,]   10   22
```



aryë°°ì—´ì˜ 2ë²ˆì§¸ ë©´ì— ìˆëŠ” 1ë²ˆ ì—´ì˜ ê°’ì„ ì¶”ì¶œ

```
> ary[,1,2]
[1] 13 14 15
```

ìë£Œêµ¬ì¡°ê°€ ë²¡í„°

í–‰ë ¬ë¡œ ë°”ê¾¸ëŠ” ì˜µì…˜

```
> ary[,1,2, drop=FALSE]
, , 1

     [,1]
[1,]   13
[2,]   14
[3,]   15
```





# ë¦¬ìŠ¤íŠ¸

ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ì–‘í•œ ë°ì´í„° íƒ€ì…ì„ ì €ì¥í•  ìˆ˜ ìˆìŒ
ë²¡í„°ì™€ í–‰ë ¬ì€ ì›ì†Œì˜ ë°ì´í„° íƒ€ì…ì´ ëª¨ë‘ ê°™ì•„ì•¼ í•¨

```
> lst<-list(0.6,0.9,0.5)
> lst
[[1]]
[1] 0.6

[[2]]
[1] 0.9

[[3]]
[1] 0.5
```

[[1]]ì€ ì›ì†Œì˜ ìœ„ì¹˜(ì¸ë±ìŠ¤)ë¥¼ ì˜ë¯¸

[1] 0.6 ì€ ì›ì†Œì˜ ê°’

ë¦¬ìŠ¤íŠ¸ì—ëŠ” ìŠ¤ì¹¼ë¼, ë²¡í„°(ìˆ«ì/ë¬¸ì), í–‰ë ¬, í•¨ìˆ˜ ì €ì¥ ê°€ëŠ¥



```
> lst<-list(1.5, "apple",c(2,3,4), matrix(1:6,ncol=3), mean)
> lst
[[1]]
[1] 1.5

[[2]]
[1] "apple"

[[3]]
[1] 2 3 4

[[4]]
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

[[5]]
function (x, ...) 
UseMethod("mean")
<bytecode: 0x0000020eb88cdf18>
<environment: namespace:base>
```



```
lst<-list()
lst[[1]]<-1.5
```

ë¹ˆê³³ì— ì§ì ‘ ëŒ€ì… 



ì´ë¦„ì„ ì£¼ë©´ [[1]] í˜•ì‹ì´ $ì´ë¦„ìœ¼ë¡œ ë³€ê²½ëœë‹¤

```

> names(lst)<-c("n1","n2","n3")
> lst
$n1
[1] 0.6

$n2
[1] 0.9

$n3
[1] 0.5

```

í˜¸ì¶œ `lst$n1`



`names(lst)` ë¡œ ì´ë¦„ë§Œ í™•ì¸

`length(lst)` ì›ì†Œì˜ ê°œìˆ˜



```
> product<-list(id="a001",name="mouse",price=30000)
> product$name
[1] "mouse"
> product[["name"]]
[1] "mouse"
> product[c("name","price")]
$name
[1] "mouse"

$price
[1] 30000
```



~ ëª»ë“¤ìŒ

lst$three

lst$three$a

`lst[["three"]][["a"]]` ë²¡í„°

`lst['three']['a']` #ë¦¬ìŠ¤íŠ¸



```
product<-list(id="a001",name="mouse",price=30000)
product[3]
product[[3]]<-50000
product$price<-50000
product[["price"]]<-50000
product[3]<-50000 #ê°’ì„ í• ë‹¹í•  ë•ŒëŠ” [[]],[] ëª¨ë‘ ê°€ëŠ¥
```



`product[3] <-c(20000,30000)` ëŠ” ì—ëŸ¬ë°œìƒ

`product[3] <-list(c(20000,30000))`



```
product[8:10] <-list(0.1,0.2,"0.3")
product
```

íƒ€ì…ì´ ë‹¬ë¼ë„ ì˜ ë¨



```
n<-c("one","two","three")
v<-c(100,200,300)
mylist<-list()
mylist[n]<-v
mylist
mylist[["two"]]<-NULL
mylist
```

ê°’ í• ë‹¹ í›„ NULLí• ë‹¹í•˜ë©´ ê·¸ ì›ì†ŒëŠ” ì œê±°(ì‚­ì œ)ëœë‹¤



ë¦¬ìŠ¤íŠ¸ ê²°í•©

```
#ë¦¬ìŠ¤íŠ¸ ê²°í•©
w1<-list("a","b","c")
w2<-list("d","e","f")
c(w1,w2)
```



rì˜ ìˆ˜ì¹˜ì—°ì‚° ê´€ë ¨ í•¨ìˆ˜ ëŒ€ë¶€ë¶„ì€ ë²¡í„° ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤
ë”°ë¼ì„œ ë¦¬ìŠ¤íŠ¸ëŠ” ë²¡í„°ë¡œ í˜•ë³€í™˜ í•´ì£¼ê¸°

```
> mydata<-list(1.5, 2.0, 3.5, 4.5)
> mean(mydata)
[1] NA
ê²½ê³ ë©”ì‹œì§€(ë“¤): 
In mean.default(mydata) :
  ì¸ìê°€ ìˆ˜ì¹˜í˜• ë˜ëŠ” ë…¼ë¦¬í˜•ì´ ì•„ë‹ˆë¯€ë¡œ NAë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤
```

`unlist` í•¨ìˆ˜: ë¦¬ìŠ¤íŠ¸ -> ë²¡í„°

```
class(unlist(mydata))
mean(unlist(mydata))
```



# ğŸ„ë°ì´í„° í”„ë ˆì„

ë°ì´í„° ë¶„ì„ì‹œ ë§ì´ ì“°ëŠ”í¸ 

í–‰ê³¼ ì—´ë¡œ êµ¬ì„±ë˜ë©° 2ì°¨ì› êµ¬ì¡° 

í–‰ë ¬ì€ ëª¨ë“  ë°ì´í„° íƒ€ì…ì´ ì¼ì¹˜ë˜ì•¼ í•˜ì§€ë§Œ ë°ì´í„° í”„ë ˆì„ì€ ê·¸ëŸ´ í•„ìš”ê°€ ì—†ìŒ 

ë°ì´í„°í”„ë ˆì„ 2ì°¨ì›, ë¦¬ìŠ¤íŠ¸ 1ì°¨ì› êµ¬ì¡°



ğŸ”…ë°ì´í„°í”„ë ˆì„ì€ *ë™ì¼í•œ ê¸¸ì´ì˜ ë²¡í„°* ì´ë£¨ì–´ì§„ ë¦¬ìŠ¤íŠ¸ë¥¼ êµ¬ì„±ìš”ì†Œë¡œ í•˜ëŠ” ë°ì´í„° êµ¬ì¡°



data.frame() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë²¡í„°ë¡œë¶€í„° ë°ì´í„°í”„ë ˆì„ì„ ìƒì„±



```
> v1<-c("a2","a2","a3")
> v2<-c(10,20,30)
> v3<-c("x","y")
> data.frame(v1,v2)
  v1 v2
1 a2 10
2 a2 20
3 a3 30
```

```
> data.frame(v1,v2,v3)
Error in data.frame(v1, v2, v3) : 
  arguments imply differing number of rows: 3, 2
```

ê¸¸ì´ê°€ ë‹¤ë¥´ë‹¤ê³ ~



```
> df<-data.frame(v1,v2,v3)
> str(df)
'data.frame':	3 obs. of  3 variables:
 $ v1: chr  "a1" "a2" "a3"
 $ v2: num  10 20 30
 $ v3: chr  "x" "y" "z"
```

observations -> obs

3 variable (features)

![image-20210223114423046](3day.assets/image-20210223114423046.png)

ê° ì´ë¯¸ì§€ ë°ì´í„°ì˜ ì°¨ì›ì€ 10000ì°¨ì› , featureê°€ 10000ê°œ ìˆë‹¤

ê°ê°ì˜ ì´ë¯¸ì§€ê°€ 10000ì°¨ì› ê³µê°„ì˜ (0,20,...,255) ìœ„ì¹˜ì— ì ìœ¼ë¡œ í‘œì‹œê°€ ë¨



## í–‰ì´ë¦„ ë„£ì–´ì£¼ê¸°

```
#í–‰ ì´ë¦„ìœ¼ë¡œ íŠ¹ì • ë²¡í„°ë¥¼ ì§€ì •
data.frame(row.names=v1,v2,v3)

>data.frame(id=v1, name=v2, price=v3)
  id name price
1 a1   10     x
2 a2   20     y
3 a3   30     z
```

stringAsFactors #ë²¡í„° -> ë°ì´í„°í”„ë ˆì„ ìƒì„±í• ë•Œ ë°ì´í„°íƒ€ì…ì„ íŒ©í„°ë¡œ ì§€ì •
(Factorí˜•íƒœë¡œì„œ string (ë¬¸ìì—´)ì„ ì½ê² ìŠµë‹ˆê¹Œ?)

`stringAsFactors =FALSE` #íŒ©í„°ë¡œ ë¬¸ìì—´ì„ ì½ì§€ ì•Šê² ë‹¤. ì¦‰ ë¬¸ìì—´ë¡œ ì½ê² ë‹¤

`stringAsFactors =TRUE` #íŒ©í„°ë¡œ ë¬¸ìì—´ì„ ì½ê² ë‹¤. ì¦‰ ë¬¸ìì—´ì„ íŒ©í„°ë¡œ ì½ê² ë‹¤



```
> p<-data.frame(id=v1, price=v2, name=v3, stringsAsFactors =TRUE)
> str(p)
'data.frame':	3 obs. of  3 variables:
 $ id   : Factor w/ 3 levels "a1","a2","a3": 1 2 3
 $ price: num  10 20 30
 $ name : Factor w/ 3 levels "x","y","z": 1 2 3
```



ë¬¸ìì—´ ì´ 10ê°œ, stringAsFctors=FALSE

2ê°œ íŒ©í„° (chr -> factor ë³€í™˜) , 8ê°œ ë¬¸ìë²¡í„°



```
v1<-c("a1","a2","a3")
v2<-c(10,20,30)
v3<-c("x","Y","Z")
lst<-list(v1,v2,v3)
as.data.frame(lst)
```



ì´ë¦„ ì´ë¿Œê²Œ

```
v1<-c("a1","a2","a3")
v2<-c(10,20,30)
v3<-c("x","Y","Z")

lst<-list(v1,v2,v3)

p<-as.data.frame(lst)
colnames(p)<-c("id","name","price")
p

  id name price
1 a1   10     x
2 a2   20     y
3 a3   30     z
```



lengthí•¨ìˆ˜ : í–‰ë ¬ì—ì„œ ì „ì²´ ì›ì†Œê°œìˆ˜, ë°ì´í„°í”„ë ˆì„ì—ì„œ **ì—´**ì˜ ê°œìˆ˜



datasetsíŒ¨í‚¤ì§€ : rì„¤ì¹˜ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” ë°ì´í„°ì…‹

state.abb #ë¯¸êµ­ì˜ 50ê°œ ì£¼ 

state.name

state.area #í‰ë°©ë§ˆì¼

AirPassengers #êµ­ì œì—¬ê°.. 

ê·¸ ì™¸ https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html

`str(state.region)` íŒ©í„°ë¡œ ë‚˜ì˜¨ë‹¤

```
> str(state.region)
 Factor w/ 4 levels "Northeast","South",..: 2 4 4 2 4 4 1 2 2 2 ...
```



```
us.state<-data.frame(state.abb, state.name,state.region,state.area)
us.state

   state.abb     state.name  state.region state.area
1         AL        Alabama         South      51609
2         AK         Alaska          West     589757
3         AZ        Arizona          West     113909
...
ì´ëŸ°ì‹ìœ¼ë¡œ ë‚˜ì˜´
```



```
> str(us.state)

'data.frame':	50 obs. of  4 variables:
 $ state.abb   : chr  "AL" "AK" "AZ" "AR" ...
 $ state.name  : chr  "Alabama" "Alaska" "Arizona" "Arkansas" ...
 $ state.region: Factor w/ 4 levels "Northeast","South",..: 2 4 4 2 4 4 1 2 2 2 ...
 $ state.area  : num  51609 589757 113909 53104 158693 ...
```





#state.name ì—´ ì¶”ì¶œ 

[[]] or [] ì‚¬ìš©í•˜ì—¬ ì—´ ì¶”ì¶œ ê²°ê³¼ê°€ ë‹¤ë¥´ëŒ€ (íƒ€ì…)

[[]] : ì—´í•˜ë‚˜ë¥¼ ë²¡í„°or íŒ©í„°ë¡œ ì¶œë ¥

[] : ë°ì´í„°í”„ë ˆì„ì´ ì¶”ì¶œ, í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ê°œì˜ ì—´ì„ ì¶”ì¶œ

ğŸ§¡

```
us.state [[2]] 
str(us.state [[2]]) #ë¬¸ì ë²¡í„°ë¡œ ë‚˜ì˜¨ë‹¤

us.state [2] 
str(us.state [2]) #ë°ì´í„° í”„ë ˆì„ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤! 
```

í–‰ë ¬ì—ì„œ drop=FALSE ì ìš©ì‹œ, ì¶œë ¥ ê²°ê³¼ì˜ íƒ€ì…ì´ í–‰ë ¬

ë°ì´í„° í”„ë ˆì„ì—ì„œëŠ” drop=FALSE ì ìš©ì‹œ, ì¶œë ¥ ê²°ê³¼ì˜ íƒ€ì…ì´ ë°ì´í„°í”„ë ˆì„

```
us.state[,2]
us.state[,2, drop=FALSE]
```



```
us.state[c("state.name","state.area")] #ë¦¬ìŠ¤íŠ¸ ì¸ë±ì‹±
us.state[,c("state.name","state.area")] #í–‰ë ¬ ì¸ë±ì‹±
```



-----

```
id<-c("a1","a2","a3")
price<-c(10,20,30)
name<-c("x","y","z")
product<-data.frame(id,name,price)
product
str(product)
#rbind() : ë°ì´í„°í”„ë ˆì„ì— í–‰ ì¶”ê°€
product<-rbind(product,c("a4", "40", "k")) 
product

> product
  id name price
1 a1    x    10
2 a2    y    20
3 a3    z    30
4 a4   40     k
```



```
> product<-product[-4,]
> product
  id name price
1 a1    x    10
2 a2    y    20
3 a3    z    30
```

4ë²ˆ í–‰ ì œê±°



#ì—¬ëŸ¬ í–‰ ì¶”ê°€





ë¦¬ìŠ¤íŠ¸ì œê±°

```
temp<-temp[temp>mean(temp)]
temp
```

